# Google Drive MCP Server - Infrastructure Configuration
# Single source of truth for terraform (init and iac folders)
# ============================================
# GLOBAL CONFIGURATION
# ============================================
# Project prefix (used for resource naming)
prefix: scmgdrive
# Project name
project_name: gdrive-mcp
# Environment: dev, stg, uat, prd
env: prd
# Human-readable project description
description: Google Drive MCP Server - Cloud Run deployment with OAuth2 authorization
# ============================================
# CLOUD PROVIDER CONFIGURATION
# ============================================
providers:
  - gcp
# ============================================
# GCP CONFIGURATION
# ============================================
gcp:
  # GCP Project ID - Replace with your actual GCP project ID
  # Must exist in Google Cloud before deployment
  project_id: project-fb127223-bfef-43d1-94e
  # Location (multi-region for Firestore)
  location: europe-west1
  # APIs/Services to enable on the project
  services:
    - run.googleapis.com
    - firestore.googleapis.com
    - secretmanager.googleapis.com
    - cloudbuild.googleapis.com
    - artifactregistry.googleapis.com
    - cloudresourcemanager.googleapis.com
    - iam.googleapis.com
    - dns.googleapis.com
  # GCP-specific resource configuration
  resources:
    # Cloud Run configuration
    cloud_run:
      name: gdrive-mcp
      region: europe-west1
      cpu: "1"
      memory: 256Mi
      min_instances: 0
      max_instances: 3
      allow_unauthenticated: true
    # Firestore configuration
    firestore:
      database_id: "(default)"
      location_id: eur3
    # Artifact Registry configuration
    artifact_registry:
      name: gdrive
      format: DOCKER
    # Cloud DNS configuration
    dns:
      zone_name: scm-platform-org
      dns_name: scm-platform.org.
      subdomain: drive.mcp
  # GCP-specific parameters
  parameters:
    log_retention_days: 30
# ============================================
# SECRETS CONFIGURATION
# ============================================
secrets:
  # OAuth credentials secret name in Secret Manager
  oauth_credentials: scm-pwd-gdrive-oauth-creds
# ============================================
# SHARED CONFIGURATION
# ============================================

# Default resource specifications
resources:
  cpu: "1"
  memory: 256Mi
  replicas: 1
# Application parameters
parameters:
  log_level: info
  default_port: 8080
